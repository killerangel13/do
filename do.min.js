/*
 * # dÃ¸ - 1.1.10
 * http://alt-o.net
 *
 * Copyright 2017 Contributors
 * Released under the MIT license
 */

!function(t){"use strict";function i(t,i,n,e,o,r,c){if("function"!=typeof t)return s(t,i,n,e,o,c);var a="object"!=typeof o||"object"!=typeof o.enclosure,d=a?h("string"==typeof r?r:t.toString(),!0):o.enclosure,f=d.count>0,t=f&&a?u("d\xf8",d):t,o=a?{function:t,enclosure:d}:o;return a&&(o[f?"alone":"invoke"]=!0),s(t.call(o),i,n,e,o,c)}function n(t,i,n){return t+"."+i+"("+(null===n?"null":Array.isArray(n)?"Array":"number"==typeof n?"Number":"boolean"==typeof n?"Boolean":"string"==typeof n?"String":"object"==typeof n?"Object":"")+")"}function e(t){var i=(new Date).toISOString().slice(2).replace("Z","").split("T"),n=i.shift().split("-");n.push(n.shift()),console.log("\n("+n.join("-")+" "+i+")   "+t+"\n")}function s(t,i,n,e,s,o){if(void 0!==t)return Array.isArray(t)?"function"!=typeof t[0]?new P(t,i,n,e,s,o):new k(t,i,n,s,void 0,o):new O(t,i,n,s,void 0,o)}function o(t){return this.counts=[t?t.length:0,0],this._=[t||[],[],[]],this}function r(t,i,n,e,s,o){for(var r=this.arguments=[],h=0,c=arguments.length;h<c;h++)r.push(arguments[h]);return o===!0&&(this.log=!0)&&this.debug(),this.construct.call(this,t,i,n,e,s)}function h(t,i){for(var n,t=t||"",e="function"!==t.trim().slice(0,8),s=0,o=[],r=!1,h="",c={},u="",a=function(){""===h||c.hasOwnProperty(h)||(s=o.push(h),c[h]=u),h=u=""},d="",f="",l="",v=0,p=0,g=0,y="",x=n=!1,m="",w="",b=0,k=t.length;b<k;b++)if(w=m,m=t.charAt(b),""===y){if(""===l){if("*"===m&&"/"===w){l="/*";continue}if("/"===m){"/"===w&&(l="//");continue}}else if("/*"===l&&"*"===w&&"/"===m||"//"===l&&("\n"===m||"\r"===m)){l="";continue}if(""===l)if(""!==y||"\\"===w||"'"!==m&&'"'!==m){if(r&&"="!==m&&">"!==m&&!_.test(m))break;if(!r)if(n){if(","===m&&1===g&&0===v&&0===p?n=!1:"("===m?g++:")"===m?g--:"["===m?v++:"]"===m?v--:"{"===m?p++:"}"===m&&p--,0===g){if(i!==!0)break;r=!0,n=!1}}else if("="!==m){if("["!==m&&"]"!==m)if("("!==m)if(1!==g||")"!==m)","!==m&&"{"!==m||(x=!1),"{"!==m?":"!==m?"}"!==m?","!==m||0!==p?_.test(m)||")"===m||("."!==m?h+=m:u="..."):a():p--:p>0&&(x=!0,h="",u=""):p++;else{if(a(),i!==!0)break;r=!0,g--}else 0!==g||e||(h=""),g++}else">"===t.charAt(b+1)?r=!0:n=!0,a()}else y=m}else m===y&&"\\"!==w&&(y="");return"{"===m||"("===m?f=m:b--,i===!0&&(d=t.slice(b+1)),{list:o,count:s,hash:c,neck:f,body:d}}function c(t,i,n){t.context=i.context,t["get context"]=i["get context"],i.todo&&(t.todo=i.todo),n===!0?t.active=i.active:t.contents=i.contents;var e=i.alone;void 0!==e&&(t.alone=e),t.done=i.done,t.finish=i.finish,t.doing=i.doing,t.die=i.die,t.dead=i.dead;var s=i.did;void 0!==s&&(t.did=s);var o=i.died;return void 0!==o&&(t.died=o),t}function u(t,i,n){for(var n=n||[],e=i.list||[],s=i.hash||{},o=i.body||"",r=i.neck||"",h=e.length,c=e[h-1],u="",a=0;a<h-1;a++)u=u+e[a]+", ";h>0&&(u=u+("..."===s[c]?"...":"")+c);for(var d=n.length,f="'use strict';\nreturn (function "+t+"("+u+") {\n\n    "+(d>0?"var ":""),a=0,l=0;a<d;a++){var v=n[a];s.hasOwnProperty(v)||(l>0&&(f+=",\n        "),f=f+v+" = this.enclosed["+a+"]",l++)}return d>0&&(f+=";\n\n"),"{"!==r&&(o="return ("+o),""===r&&(o+=")"),"{"!==r&&(o+="}"),new Function(f+o+");")()}function a(t){for(var i=t.length,n=new Array(i),e=0;e<i;e++)n[e]=t[e];return n}function d(t,i){return function(){return t.apply(i,arguments)}}function f(t,i){return function(n){return t.call(i,n)}}function l(t){for(var i=[],n=0;n<t;n++)i.push(n);return i}function v(t){for(var i={},n=0,e=t.length;n<e;n++)i[t[n][0]]=t[n][1];return i}function p(t,i,n){var e=t.length,s=i.length;e>s?g(t,i,n):g(i,t,n)}function g(t,i,n){for(var i=a(i),e=0,s=t.length;e<s;e++){var o=t[e],r=i.indexOf(o);if(r!==-1){var h=i.pop();r!==i.length&&(i[r]=h),void 0===n[o]?n[o]=1:n[o]++}}}function y(t,i){return t.push.apply(t,i),t}function x(t,i){for(var n=[],e=0,s=i.length;e<s;e++)i[e]!==t&&n.push(i[e]);return n}function m(t,i){var n=new Function("return "+t.toString())(),t=t.prototype||{},e=n.prototype=n.prototype||{};for(var s in t)Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(t,s));e.super=t;for(var o in i)Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(i,o));return n}"object"==typeof exports&&"undefined"!=typeof module?module.exports=i:"function"==typeof define&&define.amd?define(i):t&&(t.d\u00f8=i);var w={};i.opt=function(t,n,e,s){if("function"!=typeof t||0===t.length)return i(t,n,e,s);var o=t.toString(),r=!w.hasOwnProperty(o),h=r?void 0:w[o],t=r?t:h.function,c=i(t,n,e,s,h,o);return r&&(w[o]=c["get context"]()),c},i.debug=function(t,n,e,s){return i(t,n,e,s,void 0,void 0,!0)};var b=function(){return"function"==typeof Proxy&&i===new Proxy({},{get:function(){return i}})[Math.random()]}();i.Proxy=!1,o.prototype={"get isset":function(){return this.counts[1]===this.counts[0]},"get defined":function(){if(this["get isset"]())return this._[1];for(var t=[],i=this._[1],n=this._[2],e=0,s=n.length;e<s;e++)n[e]===!0&&t.push(i[e]);return t},set:function(t,i){var n=this._[0].indexOf(t);if(n!==-1){var e=this._[2];if(this._[1][n]=i,e[n]===!0)return this.counts[1];var s=this.counts[1]+=1;return e[n]=!0,s}},need:function(t){for(var i=this["get keys"](),n=t.length,e=0;e<n;e++)i.push(t[e]);this.counts[0]+=n},"get keys":function(){return this._[0]},"get count":function(){return this.counts[0]},replace:function(t){return this._[1]=t},empty:function(){return this._[1].length=0,this._[2].length=0,this.counts[1]=0,this}},r.prototype={die:function(){this["end active"]();var t=this.arguments[1];t&&t.apply(null,arguments)},finish:function(t){if(t===!1&&this["some died"]===!0)return this.die(this.dead);t===!1&&this["set active"](t),this.active===!0&&this["end active"]();var i=this.next;return i&&i(this.done),0},"end active":function(){var t=this.doing,i=this.done,n=this.dead;for(var e in t){var s=t[e];"function"!=typeof s||i.hasOwnProperty(e)||n.hasOwnProperty(e)||s()}this["set active"](!1)},"set active":function(t){return this.active=this.contents.active=t},"get context":function(){},bind:function(t){var t=t||{};return this["call context"]=t,this.finish=d(this.finish,this),this.die=d(this.die,this),void 0!==t.enclosure&&this["bind closure"](t),this["get context"]=this["get context"].bind(this),this.d\u00f8=d(this.d\u00f8,this),t},"bind closure":function(t){var i=this.enclosure=t.enclosure,n=t.alone=i.count>0;n&&this["stand alone"](i)},"stand alone":function(t){this.alone=!0,this["set active"]=this["set active alone"],this["rests alone"]="..."===t.hash[t.list[t.count-1]],this.d\u00f8=this["d\xf8 alone"],this.enclosing=t.list,this.enclosed=[]},"set active alone":function(t){t===!1&&(this.enclosed.length=0),this.active=this.contents.active=t},"d\xf8 alone":function(){for(var t=this.enclosed=[],i=0,n=0,e=arguments.length;n<e;n++)i=t.push(arguments[n]);if(this["rests alone"]){var s=this.enclosing.length-1;t[s]=t.splice(s,i)}this.context=t[0],this.refresh()}};var k=m(r,{construct:function(){var t=this.bind(this.arguments[3]);return this.next=this.arguments[2]||this.arguments.splice(1,1,void 0).pop(),this.init(),t.invoke!==!0?this.d\u00f8:this.d\u00f8()},"count down":function(){(this.countdown-=1)>0||this.finish(!1)},"it did":function(t,i){this.net.set(t,i)},"it died":function(t,i){this["some died"]=!0,this.dead[t]=i},"bound it":function(t,i){var n=this;return function(e){n.active!==!1&&(i.call(n,t,e),n["count down"].call(n))}},init:function(){this["some died"]=!1,this.dead={},this.cued=!1,this.contents={},this.net=this.net?this.net.empty():new o(l(this.arguments[0].length)),this.countdown=this.net.counts[0],this.done=this.done||this.net._[1],this.doing={},this.refresh()},do:function(){this.cued=!0,this["set active"](!0);for(var t=this.arguments[0],i=this["bound it"],n=this["it did"],e=this["it died"],s=this.doing,o=this.each,r=0,h=t.length;r<h&&this.active===!0;r++)o.call(this,r,t[r],s,i.call(this,r,n),i.call(this,r,e));return this.d\u00f8},refresh:function(){this.alone!==!0&&void 0!==this["call context"].function&&c(this["call context"],this),c(this.contents,this,!0),c(this.d\u00f8,this)},"d\xf8":function(t){return this.cued?this.clone().apply(null,arguments):(this.context=t,this.refresh(),this.do.call(this))},each:function(t,i,n,e,s){n[t]=i.call(this,t,e,s)},clone:function(){var t=this.alone!==!0&&this["call context"].function,n=this.arguments;return i(t||n[0],n[1],this.next,void 0,{function:t||void 0,enclosure:this.enclosure,alone:this.alone,clone:!0},void 0,this.log)},"stand alone":function(t){if(this.super["stand alone"].call(this,t),this["call context"].clone!==!0)for(var i=this.enclosing,n=this.arguments[0],e=0,s=n.length;e<s;e++){var o=h(n[e].toString(),!0);n[e]=u("i"+e,o,i)}},"d\xf8 alone":function(){return this.cued?this.clone().apply(null,arguments):(r.prototype["d\xf8 alone"].apply(this,arguments),this.do.call(this))},debug:function(){var t=this;["did","died"].forEach(function(i){var s=t["it "+i];t["it "+i]=function(t,o){s.apply(this,arguments),e(n(i,t,o))}})}}),P=m(k,{construct:function(){return this.iterate=this.arguments.splice(1,1).pop(),this.super.construct.call(this)},each:function(t,i,n,e,s){n[t]=this.iterate.call(this,i,t,e,s)},clone:function(){var t=this.alone!==!0&&this["call context"].function,n=this.arguments;return i(t||n[0],this.iterate,n[1],this.next,{function:t||void 0,enclosure:this.enclosure,alone:this.alone,clone:!0},void 0,this.log)},"stand alone":function(t){if(r.prototype["stand alone"].call(this,t),this["call context"].clone!==!0){var i=h(this.iterate.toString(),!0);this.iterate=u("iterate",i,this.enclosing)}}}),O=m(r,{construct:function(t,i,n,e){this.cued=!1,this.next=this.arguments[2]||this.arguments.splice(1,1,function(){}).pop(),this.done={},this["some died"]=!1,this.dead={},this.doing={},this.count=0,this.did={},this.died={},this.counts=[],this.contents={},this.keys={o:Object.keys(t),did:[]};for(var e=this.bind(e),s=this.alone,o=this.ops={},r=this.todo=a(this.keys.o),c=this.total=this.countdown=r.length,u=this["to cue"]={},d=this.cached=Boolean(e.orders||e.parts),f=this.orders=e.orders||{},l=this.parts=e.parts||{},v=this.primes={},g=(this.cueing={count:0,_:{}},this.rests=!1),y={},m=this.keys.o,w=0;w<c;w++){var b=m[w],k=t[b],P=l[b]=l[b]||h(k.toString(),s),O=a(P.list),_=P.count-1,j=_,A=0<=_&&"..."===P.hash[O[_]]&&!!O.pop();g=g||A;var S=this["add op"](b,k,O);if(A===!1?j++:S.rests=j,A===!0&&0===j&&(y[b]=S),A===!1&&0===j)v[b]=S;else for(var D=0;D<j;D++)this.does(O[D]);this.does(b),d===!1&&p(O,m,f)}this.rests=g,g&&(this.record=[]);for(var b in y)y[b].arguments.need(x(b,this.keys.o));for(var b in t)u[b]=a(o[b].arguments["get keys"]());return this.proxy(),this.refresh(),e.invoke!==!0?this.d\u00f8:this.d\u00f8()},refresh:function(){(i.Proxy===!1||i.Proxy===!0&&!b)&&this["refresh ops"](),this["refresh API"]()},"refresh ops":function(){var t=this.ops,i=this.enclosed,n=this.context,e=this.done,s=this.doing,o=this.dead;for(var r in t){var h=t[r].this;h.done=e,h.doing=s,h.dead=o,h.context=n,void 0!==i&&(h.enclosed=i)}},"refresh API":function(){this.alone!==!0&&void 0!==this["call context"].function&&c(this["call context"],this),c(this.contents,this,!0),c(this.d\u00f8,this)},proxy:function(){i.Proxy===!1||i.Proxy===!0&&!b?this["assign this"]():this["proxy this"]()},"assign this":function(){for(var t=this.ops,i=this.todo,n=this["assign each"],e=0,s=i.length;e<s;e++){var o=i[e];n.call(this,t[o],o,e)}for(var r=this.did,h=this.keys.did,e=0,s=h.length;e<s;e++){var o=h[e];r[o]=f(r[o],this)}for(var e=0,s=i.length;e<s;e++){var o=i[e];n.call(this,t[o],o,e)}},"assign each":function(t,i,n){var e=t.this=t.this||c({i:n},this),s=this.keys.did,o=e.did,r=this.did;if(r===o)return e.did=v([[i,f(r[i],e)]]);for(var h=0,u=s.length;h<u;h++){var a=s[h];i!==a&&(o[a]=r[a])}},"proxy this":function(){for(var t=this.ops,i=this.todo,n=this["proxy each"],e=0,s=i.length;e<s;e++){var o=i[e];n.call(this,t[o],o,e)}for(var r=this.did,h=this.keys.did,e=0,s=h.length;e<s;e++){var o=h[e];void 0===t[o]&&(r[o]=f(r[o],this))}},"proxy each":function(t,n,e){var s="function"!=typeof i.Proxy?Proxy:i.Proxy,o=this.did,r=t.this=new s(this,{get:function(t,i){return"i"===i?e:"did"!==i?t[i]:h},set:function(t,i,n){return"i"===i?e=n:t[i]=n,!0}}),e=e,h=new s(this.did,{get:function(t,i){return n!==i?t[i]:c}}),c=f(o[n],r);o[n]=f(o[n],this)},does:function(t){var i=this.did;if(void 0===i[t]){var n=this;i[t]=function(i){return n.do.call(this,n,t,i),this.did},this.dies(t),this.keys.did.push(t)}},dies:function(t){var i=this.died;if(void 0===i[t]){var n=this;i[t]=function(e){return n.do.call(n["died without context"],n,t,e),i}}},"died without context":"died",store:function(t,i,n){var e=this.ops[i],s=void 0===e?void 0:e.this;if(void 0!==s&&s.i===-1)return!1;var o="died"==t;this[o?"dead":"done"][i]=n,o===!0?this["some died"]=!0:this.rests===!0&&this.record.push(v([[i,n]]));var r=this.doing[i];return t!==s&&"function"==typeof r&&r(),!0},propagate:function(t,i,n,e){var s=this.count;if(this.trigger(this.todo[e],i,n)!==!0)return t;var o=this.count;if(o===s)return t;if(t-=o-s,t<=e)return t;var r=this.counts;do r[s]<=e&&(t=this.propagate(t,i,n,r[s]));while(t>e&&o>(s+=1));return t},"count down":function(t){var i=this.countdown-=1;if(i<=0)return this.finish(!1);var n=this.ops,e=n[t].this,s=e.i;e.i=-1;var o=this.todo,r=o.pop();return r!==t&&(n[o[s]=r].this.i=s),this.count=this.counts.push(s),i},do:function(t,i,n){if(t.active!==!1&&t.store(this,i,n)!==!1){var e=t.ops.hasOwnProperty(i)?t["count down"](i):t.countdown;if("died"!=this&&0!==e)for(var s=t.propagate,o=0;o<e;o++)e=s.call(t,e,i,n,o)}},trigger:function(t,i,n){var e=this.ops[t],s=e.arguments;return s["get isset"]()!==!0&&void 0!==s.set(i,n)&&s["get isset"]()!==!1&&(0===e.rests?s.replace(this.record):void 0!==e.rests&&s.replace(y(s["get defined"](),this.record)),this.each.call(this,t,e,s),!0)},"add op":function(t,i,n){var e=this.ops[t]={arguments:new o(n),function:i};return e},"cue primes":function(){var t=this.primes,i=this.each;for(var n in t){var e=t[n];e.this.i>-1&&i.call(this,n,e)}},cue:function(){0!==this.total&&(this["set active"](!0),this["cue primes"](),(this.cued=this.cued||!this.active)||this["cue primary"]())},"cue primary":function(){var t=this.ops,i=this["to cue"],n=this.cueing._,e=this.orders,s=0,o=[],r=this.each;for(var h in i)if(void 0===n[h]){for(var c=t[h].arguments["get keys"](),u=0,a=0,d=c.length;a<d;a++)void 0!==t[c[a]]&&u++;d!==u&&0!==u||(s=o.push({order:e[h]||0,k:h}))}for(var f=o.sort(function(t,i){return t.order===i.order?0:t.order<i.order?1:-1}),a=0;a<s;a++){var h=f[a].k,l=t[h];if(l.this.i>-1&&l.arguments["get isset"]()===!1&&r.call(this,h,l,void 0===l.rests?void 0:y(new Array(l.rests),this.record)),this.cued=this.cued||!this.active)return}},"d\xf8":function(t){return 0!==this.cueing.count?this.clone().apply(null,arguments):(this.context=t,this.refresh(),this.cue(),this.d\u00f8)},"de-cue":function(t){var i=this["de-cue"],n=this["to cue"],e=this.cueing;for(var s in n)if(void 0===e._[s]){var o=n[s],r=o.indexOf(t),h=o.length;r>-1&&1<h--&&r!==h?o[r]=o.pop():r>-1&&o.pop(),0===h&&(e._[s]=!0,e.count++,i.call(this,s))}this.total===e.count&&(this.cued=!0)},each:function(t,i){this.cued===!1&&this["de-cue"](t),this.doing[t]=i.function.apply(i.this,i.arguments["get defined"]())},"add op alone":function(t,i,n){var e=this.parts[t],s=this.ops[t]={arguments:new o(n),function:this.cached!==!0?u(t,e,this.enclosing):this["call context"].functions[t]};return s},"stand alone":function(t){this.super["stand alone"].call(this,t),this["add op"]=this["add op alone"]},"d\xf8 alone":function(){return 0!==this.cueing.count?this.clone().apply(null,arguments):(this.super["d\xf8 alone"].apply(this,arguments),this.cue(),this.d\u00f8)},"get context":function(){var t=this.ops,i={};for(var n in t)i[n]=t[n].function;return{function:this["call context"].function||void 0,alone:this.alone,parts:this.parts,orders:this.orders,functions:i,enclosure:this.enclosure}},clone:function(){var t=this.arguments;return i(this["call context"].function||t[0],t[1],this.next,void 0,this["get context"](),void 0,this.log)},debug:function(){var t=this.do;this.do=function(i,s,o){e(n("died"==this?"died":"did",s,o)+"  todo ["+i.todo.filter(function(t){return s!==t}).join(", ")+"]"),t.apply(this,arguments)}}}),_=/(\s)|(\r)/}("undefined"!=typeof window?window:void 0);