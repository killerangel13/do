/*
 * # dÃ¸ - 1.0.2
 * http://alt-o.net
 *
 * Copyright 2016 Contributors
 * Released under the MIT license
 */

!function(t){"use strict";function i(t,i,e,s,o){return"function"!=typeof t?o=void 0:t=t.call(o={js:t.toString()}),n(t,i,e,s,o)}function n(t,i,n,e,s){return void 0!==t?Array.isArray(t)?"function"!=typeof t[0]?new k(t,i,n,e,s):new x(t,i,n,s):new _(t,i,n,s):void 0}function e(t){return this.counts=[t?t.length:0,0],this._=[t||[],[],[]],this}function s(t,i,n,e,s){for(var o=this.arguments=[],r=0,h=arguments.length;h>r;r++)o.push(arguments[r]);return this.construct.call(this,t,i,n,e,s)}function o(t){for(var i,n=[],e="",s=0,o=0,r=0,h="",u=i=!1,c="",a="",d="",f=0,l=t.length;l>f;f++)if(d=a,a=t.charAt(f),""===h){if(""===e){if("*"===a&&"/"===d){e="/*";continue}if("/"===a){"/"===d&&(e="//");continue}}else if("/*"===e&&"*"===d&&"/"===a||"//"===e&&("\n"===a||"\r"===a)){e="";continue}if(""===e)if(""!==h||"\\"===d||"'"!==a&&'"'!==a)if(i){if(","===a&&1===r&&0===s&&0===o?i=!1:"("===a?r++:")"===a?r--:"["===a?s++:"]"===a?s--:"{"===a?o++:"}"===a&&o--,0===r)break}else if("="!==a){if("["!==a&&"]"!==a)if("("!==a){if(1===r&&")"===a){""!==c&&-1===n.indexOf(c)&&n.push(c);break}0!==r&&((","===a||"{"===a)&&(u=!1),"{"!==a?":"!==a?"}"!==a?o>0&&","!==a&&u===!1||(","!==a?O.test(a)||")"===a||(c+=a):(c.length&&-1===n.indexOf(c)&&n.push(c),c="")):o--:o>0&&(u=!0):o++)}else r++}else i=!0,n.push(c),c="";else h=a}else a===h&&"\\"!==d&&(h="");return n}function r(t,i,n){n===!0?t.active=i.active:t.contents=i.contents;var e=i.alone;void 0!==e&&(t.alone=e),t.done=i.done,t.finish=i.finish,t.doing=i.doing,t.die=i.die,t.dead=i.dead;var s=i.did;void 0!==s&&(t.did=s);var o=i.died;return void 0!==o&&(t.died=o),t}function h(t,i,n){for(var t="'use strict';\nreturn {\nfunction: ("+t+"),\nsetters: [",e=0,s=i.length;s>e;e++)t+="\nfunction(val) {"+i[e]+" = val}"+(s-1>e?",":"]}");var o=new u(i.concat([t])).call(n);return function(){for(var t=0,i=o.setters.length;i>t;t++)o.setters[t](arguments[t]);return o["function"]}}function u(t){return Function.apply(this,t)}function c(t){for(var i=t.length,n=new Array(i),e=0;i>e;e++)n[e]=t[e];return n}function a(t,i){return function(){return t.apply(i,arguments)}}function d(t,i){return function(n){return t.call(i,n)}}function f(t){for(var i=[],n=0;t>n;n++)i.push(n);return i}function l(t){for(var i={},n=0,e=t.length;e>n;n++)i[t[n][0]]=t[n][1];return i}function v(t,i,n){var e=t.length,s=i.length;e>s?p(t,i,n):p(i,t,n)}function p(t,i,n){for(var i=c(i),e=0,s=t.length;s>e;e++){var o=t[e],r=i.indexOf(o);if(-1!==r){var h=i.pop();r!==i.length&&(i[r]=h),void 0===n[o]?n[o]=1:n[o]++}}}function g(t,i){return t.push.apply(t,i),t}function y(t,i){for(var n=[],e=0,s=i.length;s>e;e++)i[e]!==t&&n.push(i[e]);return n}function m(t,i){var n=new Function("return "+t.toString())(),t=t.prototype||{},e=n.prototype=n.prototype||{};for(var s in t)Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(t,s));e["super"]=t;for(var o in i)Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(i,o));return n}"object"==typeof exports&&"undefined"!=typeof module?module.exports=i:"function"==typeof define&&define.amd?define(i):t.d\u00f8=i;var w=function(){return"function"==typeof Proxy&&i===new Proxy({},{get:function(){return i}})[Math.random()]}();e.prototype={"get isset":function(){return this.counts[1]===this.counts[0]},"get defined":function(){if(this["get isset"]())return this._[1];for(var t=[],i=this._[1],n=this._[2],e=0,s=n.length;s>e;e++)n[e]===!0&&t.push(i[e]);return t},set:function(t,i){var n=this._[0].indexOf(t);if(-1!==n){var e=this._[2];if(this._[1][n]=i,e[n]===!0)return this.counts[1];var s=this.counts[1]+=1;return e[n]=!0,s}},need:function(t){for(var i=this["get keys"](),n=t.length,e=0;n>e;e++)i.push(t[e]);this.counts[0]+=n},"get keys":function(){return this._[0]},"get count":function(){return this.counts[0]},replace:function(t){return this._[1]=t},empty:function(){return this._[1].length=0,this._[2].length=0,this.counts[1]=0,this}},s.prototype={die:function(){this["end active"]();var t=this.arguments[1];t&&t.apply(null,arguments)},finish:function(t){if("boolean"==typeof t&&this["some died"]===!0)return this.die();"boolean"==typeof t&&this["set active"](t),this.active===!0&&this["end active"]();var i=this.next;return i&&i(this.done),0},"end active":function(){var t=this.doing,i=this.done,n=this.dead;for(var e in t){var s=t[e];"function"==typeof s&&i.hasOwnProperty(e)===!1&&n.hasOwnProperty(e)===!1&&s()}this["set active"](!1)},"set active":function(t){return this.active=this.contents.active=t},bind:function(t){if(this.context=t,this.finish=a(this.finish,this),this.die=a(this.die,this),void 0===t.js)return t;var i=o(t.js),n=t.alone=Boolean(i.length);if(t.js=w!==!0?"no proxy":"ES6 proxy",n!==!0)return t;this.alone=!0;for(var e=0,s=i.length;s>e;e++)i[e]=i[e].replace("...","");return this["stand alone"](i),t}};var x=m(s,{construct:function(){var t=this.arguments[3],i=void 0===t,t=this.context=this.bind(i?{}:t);return this.next=this.arguments[2]||this.arguments.splice(1,1,void 0).pop(),this.init(),t.alone===!0||i?this.d\u00f8:this.d\u00f8()},"count down":function(){(this.countdown-=1)>0||this.finish(!1)},"it did":function(t,i){this.net.set(t,i)},"it died":function(t,i){this["some died"]=!0,this.dead[t]=i},"bound it":function(t,i){var n=this;return function(e){n.active!==!1&&(i.call(n,t,e),n["count down"].call(n))}},init:function(){var t=this;this["some died"]=!1,this.dead={},this.cued=!1,this.net=this.net?this.net.empty():new e(f(this.arguments[0].length)),this.countdown=this.net.counts[0],this.done=this.done||this.net._[1],this.doing={},this.contents=r(this.context,this,!0),this.d\u00f8=r(this.d\u00f8||function(){return t["do"].apply(t,arguments)},this)},"do":function(t){if(void 0!==t)for(var i=[],n=0,e=arguments.length;e>n;n++)i[n]=arguments[n];else var i;this.cued&&this.init.apply(this,i),this.cued=!0,this["set active"](!0);for(var s=this.arguments[0],o=this["bound it"],r=this["it did"],h=this["it died"],u=this.doing,c=this.each,n=0,e=s.length;e>n&&this.active===!0;n++)c.call(this,n,s[n],u,o.call(this,n,r),o.call(this,n,h),i);return this.d\u00f8},each:function(t,i,n,e,s){n[t]=i.call(this,t,e,s)},"each alone":function(t,i,n,e,s,o){n[t]=i.apply(null,o).call(this,t,e,s)},"stand alone":function(t){this.each=this["each alone"];for(var i=this.arguments[0],n=0,e=i.length;e>n;n++){var s=i[n];i[n]=h(s.toString(),t,this)}}}),k=m(x,{construct:function(){return this.iterate=this.arguments.splice(1,1).pop(),this["super"].construct.call(this)},each:function(t,i,n,e,s){n[t]=this.iterate.call(this,i,t,e,s)},"stand alone":function(t){this.init=this["init alone"],this["iterate alone"]=h(this.iterate.toString(),t,this)},"init alone":function(){return this.iterate=this["iterate alone"].apply(null,arguments),this["super"].init.apply(this,arguments)}}),_=function(){var t=m(s,{construct:function(t,i,n,e){this.cued=!1,this.next=this.arguments[2]||this.arguments.splice(1,1,function(){}).pop(),this.done={},this["some died"]=!1,this.dead={},this.doing={},this.count=0,this.did={},this.died={},this.counts=[],this.keys={o:Object.keys(t),did:[]};for(var s=void 0===e,e=this.context=this.bind(s?{}:e),h=this.ops={},u=this.todo=c(this.keys.o),d=this.total=this.countdown=u.length,f=this["to cue"]={},l=this.primes={},p=this.orders={},g=(this.cueing={count:0,_:{}},this.rests=!1),m={},w=this.keys.o,x=0;d>x;x++){var k=w[x],_=t[k],O=_.toString(),b=o(O),P=b.length-1,j=P,S=P>=0&&"."===b[P][0]?!!b.pop():!1;g=g||S;var A=this["add op"](k,_,b);if(S===!1?j++:A.rests=j,S===!0&&0===j&&(m[k]=A),S===!1&&0===j)l[k]=A;else for(var F=0;j>F;F++)this.does(b[F]);this.does(k),v(b,w,p)}this.rests=g,g&&(this.record=[]);for(var k in m)m[k].arguments.need(y(k,this.keys.o));for(var k in t)f[k]=c(h[k].arguments["get keys"]());this.contents=e,this.proxy(),r(e,this,!0);var D=this.d\u00f8=r(a(this.d\u00f8,this),this);return e.alone===!0||s?D:D()},reset:function(){this["end active"](),this.cued=!1;for(var t=this.keys.o,i=this.ops,n=this.countdown=this.total,e=this["to cue"],s=0;n>s;s++){var o=t[s],r=i[o],h=r.arguments;e[o]=c(h["get keys"]()),h.empty(),r["this"].i=s}this.todo=c(this.keys.o),this.counts.length=this.count=0,this.done={},this.dead={},this.doing={},this.cueing._={},this.cueing.count=0,this["set active"](!1),this["some died"]=!1,void 0!==this.record&&(this.record=[]),this.refresh()},refresh:w?function(){r(this.contents,this),r(this.d\u00f8,this)}:function(){var t=this.ops;for(var i in t){var n=t[i]["this"];n.done=this.done,n.dead=this.dead,n.doing=this.doing}r(this.contents,this),r(this.d\u00f8,this)},proxy:w?function(){for(var t=this.ops,i=this.todo,n=this["each proxy"],e=0,s=i.length;s>e;e++){var o=i[e];n.call(this,t[o],o,e)}}:function(){for(var t=this.ops,i=this.todo,n=this["each proxy"],e=0,s=i.length;s>e;e++){var o=i[e];n.call(this,t[o],o,e)}for(var r=this.did,h=this.keys.did,e=0,s=h.length;s>e;e++){var o=h[e];r[o]=d(r[o],this)}for(var e=0,s=i.length;s>e;e++){var o=i[e];n.call(this,t[o],o,e)}},"each proxy":w?function(t,i,n){var e=this.did,s=t["this"]=new Proxy(this,{get:function(t,i){return"i"===i?n:"did"!==i?t[i]:o},set:function(t,i,e){return"i"===i?n=e:t[i]=e,!0}}),n=n,o=new Proxy(this.did,{get:function(t,n){return i!==n?t[n]:r}}),r=d(e[i],s);e[i]=d(e[i],this)}:function(t,i,n){var e=t["this"]=t["this"]||r({i:n},this),s=this.keys.did,o=e.did,h=this.did;if(h===o)return e.did=l([[i,d(h[i],e)]]);for(var u=0,c=s.length;c>u;u++){var a=s[u];i!==a&&(o[a]=h[a])}},does:function(t){var i=this.did;if(void 0===i[t]){var n=this;i[t]=function(i){return n["do"].call(this,n,t,i),this.did},this.dies(t),this.keys.did.push(t)}},dies:function(t){var i=this.died;if(void 0===i[t]){var n=this;i[t]=function(e){return n["do"].call(n["died without context"],n,t,e),i}}},"died without context":"died",store:function(t,i,n){var e=this.ops[i],s=void 0===e?void 0:e["this"];if(void 0!==s&&-1===s.i)return!1;var o="died"==t;this[o?"dead":"done"][i]=n,o===!0?this["some died"]=!0:this.rests===!0&&this.record.push(l([[i,n]]));var r=this.doing[i];return t!==s&&"function"==typeof r&&r(),!0},propagate:function(t,i,n,e){var s=this.count;if(this.trigger(this.todo[e],i,n)!==!0)return t;var o=this.count;if(o===s)return t;if(t-=o-s,e>=t)return t;var r=this.counts;do r[s]<=e&&(t=this.propagate(t,i,n,r[s]));while(t>e&&o>(s+=1));return t},"count down":function(t){var i=this.countdown-=1;if(0>=i)return this.finish(!1);var n=this.ops,e=n[t]["this"],s=e.i;e.i=-1;var o=this.todo,r=o.pop();return r!==t&&(n[o[s]=r]["this"].i=s),this.count=this.counts.push(s),i},"do":function(t,i,n){if(t.active!==!1&&t.store(this,i,n)!==!1){var e=t.ops.hasOwnProperty(i)?t["count down"](i):t.countdown;if("died"!=this&&0!==e)for(var s=t.propagate,o=0;e>o;o++)e=s.call(t,e,i,n,o)}},trigger:function(t,i,n){var e=this.ops[t],s=e.arguments;return s["get isset"]()===!0||void 0===s.set(i,n)||s["get isset"]()===!1?!1:(0===e.rests?s.replace(this.record):void 0!==e.rests&&s.replace(g(s["get defined"](),this.record)),this.each.call(this,t,e,s),!0)},"add op":function(t,i,n){var s=this.ops[t]={arguments:new e(c(n)),"function":i};return s},cue:function(){if(0!==this.total){this["set active"](!0);var t=this.ops,i=this["to cue"],n=this.primes,e=this.orders,s=this.each;for(var o in n){var r=n[o];r["this"].i>-1&&s.call(this,o,r)}if(!(this.cued=this.cued||!this.active)){var h=this.cueing._,u=[],c=0;for(var o in i)if(void 0===h[o]){for(var a=t[o].arguments["get keys"](),d=0,f=0,l=a.length;l>f;f++)t.hasOwnProperty(a[f])&&d++;(l===d||0===d)&&(c=u.push({order:e[o]||0,k:o}))}for(var v=u.sort(function(t,i){return t.order===i.order?0:t.order<i.order?1:-1}),f=0;c>f;f++){var o=v[f].k,r=t[o];if(r["this"].i>-1&&r.arguments["get isset"]()===!1&&s.call(this,o,r,void 0===r.rests?void 0:g(new Array(r.rests),this.record)),this.cued=this.cued||!this.active)return}}}},"d\xf8":function(){return 0!==this.cueing.count&&this.reset(),this.cue(),this.d\u00f8},"de-cue":function(t){var i=this["de-cue"],n=this["to cue"],e=this.cueing;for(var s in n)if(void 0===e._[s]){var o=n[s],r=o.indexOf(t),h=o.length;r>-1&&1<h--&&r!==h?o[r]=o.pop():r>-1&&o.pop(),0===h&&(e._[s]=!0,e.count++,i.call(this,s))}this.total===e.count&&(this.cued=!0)},each:function(t,i){this.cued===!1&&this["de-cue"](t),this.doing[t]=i["function"].apply(i["this"],i.arguments["get defined"]())},"add op alone":function(t,i,n){var s=this.ops[t]={arguments:new e(c(n)),"function":h(i.toString(),this.enclosing,this)};return s},"each alone":function(t,i){this.cued===!1&&this["de-cue"](t),this.doing[t]=i["function"].apply(null,this.enclosed).apply(i["this"],i.arguments["get defined"]())},"d\xf8 alone":function(){this.cued&&this.reset();for(var t=this.enclosed=[],i=0,n=arguments.length;n>i;i++)t[i]=arguments[i];return this.cue(),this.d\u00f8},"stand alone":function(t){this.each=this["each alone"],this["add op"]=this["add op alone"],this.d\u00f8=this["d\xf8 alone"],this.enclosing=t,this["set active"]=this["set active alone"]},"set active alone":function(t){t===!1&&(this.enclosed=void 0),this.active=this.contents.active=t}});return t}(),O=/(\s)|(\r)/;u.prototype=Function.prototype}("undefined"!=typeof window?window:void 0);